(this["webpackJsonpkage-editor"]=this["webpackJsonpkage-editor"]||[]).push([[0],{18:function(e){e.exports=JSON.parse("{}")},22:function(e,t,n){e.exports=n(44)},33:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a,c=n(0),l=n.n(c),r=n(4),o=n.n(r),i=n(5),s=n(2),u=n(10),g=n(1),h=n(15),p=n(16),f=n.n(p)()("EDITOR"),m={selectSingle:f("SELECT_SINGLE"),selectXorSingle:f("SELECT_XOR_SINGLE"),selectNone:f("SELECT_NONE"),selectAll:f("SELECT_ALL"),selectPrev:f("SELECT_PREV"),selectNext:f("SELECT_NEXT")},y=function(e){var t=e.value.slice();return 99===t[0]&&(t[7]=e.partName||""),t.join(":")},E=new URLSearchParams(window.location.hash.slice(1)),d={glyph:(a=E.get("data")||"",a.split(/[$\r\n]+/).map((function(e){return function(e){for(var t=e.split(":"),n=function(e){switch(e){case 0:case 1:case 9:return 7;case 2:return 9;case 3:case 4:case 6:case 99:return 11;default:return 0}}(+t[0]),a=[],c=0;c<n;c++)a.push(Math.floor(+t[c]||0));return 99===a[0]?{value:a,partName:t[7]||""}:{value:a}}(e)})).filter((function(e){return 0!==(t=e).value.length&&(0!==t.value[0]||97===t.value[1]||98===t.value[1]||99===t.value[1]);var t}))),selection:[]},v=Object(h.reducerWithInitialState)(d).case(m.selectSingle,(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{selection:[t]})})).case(m.selectXorSingle,(function(e,t){return Object(g.a)(Object(g.a)({},e),{},{selection:e.selection.includes(t)?e.selection.filter((function(e){return t!==e})):e.selection.concat([t])})})).case(m.selectAll,(function(e){return Object(g.a)(Object(g.a)({},e),{},{selection:e.glyph.map((function(e,t){return t}))})})).case(m.selectNone,(function(e){return Object(g.a)(Object(g.a)({},e),{},{selection:[]})})).case(m.selectPrev,(function(e){if(0===e.glyph.length)return Object(g.a)(Object(g.a)({},e),{},{selection:[]});var t=0===e.selection.length?0:Math.min.apply(Math,Object(u.a)(e.selection));return Object(g.a)(Object(g.a)({},e),{},{selection:[(t-1+e.glyph.length)%e.glyph.length]})})).case(m.selectNext,(function(e){if(0===e.glyph.length)return Object(g.a)(Object(g.a)({},e),{},{selection:[]});var t=0===e.selection.length?-1:Math.max.apply(Math,Object(u.a)(e.selection));return Object(g.a)(Object(g.a)({},e),{},{selection:[(t+1+e.glyph.length)%e.glyph.length]})})),b=Object(s.b)({editor:v}),j=(n(33),n(34),n(17)),O=function(e){return l.a.createElement(l.a.Fragment,null,e.polygons.array.map((function(e,t){return l.a.createElement("polygon",{key:t,points:e.array.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n," ")})).join("")})})))},S=(n(42),new j.Kage),N=function(e){var t=Object(c.useMemo)((function(){var t=e.glyph.map(y);return S.makeGlyphSeparated(t)}),[e.glyph]),n=function(t,n){var a,c;t.shiftKey||t.ctrlKey?null===(a=e.selectXorSingle)||void 0===a||a.call(e,n):null===(c=e.selectSingle)||void 0===c||c.call(e,n);t.stopPropagation()},a=[],r=[];return t.forEach((function(t,n){e.selection.includes(n)?r.push({polygons:t,index:n}):a.push({polygons:t,index:n})})),l.a.createElement(l.a.Fragment,null,l.a.createElement("g",{className:"strokes-deselected"},a.map((function(e){var t=e.polygons,a=e.index;return l.a.createElement("g",{key:a,onClick:function(e){return n(e,a)}},l.a.createElement(O,{polygons:t}))}))),l.a.createElement("g",{className:"strokes-selected"},r.map((function(e){var t=e.polygons,a=e.index;return l.a.createElement("g",{key:a,onClick:function(e){return n(e,a)}},l.a.createElement(O,{polygons:t}))}))))},k=(n(43),function(e){return l.a.createElement("div",{className:"glyph-area"},l.a.createElement("svg",{width:"100%",height:"100%",viewBox:"-20 -20 500 240",onClick:function(t){t.shiftKey||t.ctrlKey||e.selectNone()}},l.a.createElement("rect",{x:"0",y:"0",width:"200",height:"200",className:"glyph-boundary"}),l.a.createElement("rect",{x:"12",y:"12",width:"176",height:"176",className:"glyph-guide"}),l.a.createElement(N,{glyph:e.glyph,selection:e.selection,selectSingle:e.selectSingle,selectXorSingle:e.selectXorSingle})))}),w=Object(i.b)((function(e){return Object(g.a)({},e.editor)}),(function(e){return{selectSingle:function(t){return e(m.selectSingle(t))},selectXorSingle:function(t){return e(m.selectXorSingle(t))},selectNone:function(){return e(m.selectNone())}}}))(k);var x=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(w,null),l.a.createElement("div",{className:"editor-controls"}),l.a.createElement("div",{className:"parts-list-area"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(9),C=n(46),X={ja:{translation:n(18)}},T=E.get("host"),M="ja";if(T)switch(T.split(".")[0]){case"en":M="en";break;case"ko":M="ko";break;case"zhs":M="zh-Hans";break;case"zht":M="zh-Hant"}L.a.use(C.a).init({resources:X,lng:M,returnObjects:!0,interpolation:{escapeValue:!1}});L.a;var _=Object(s.c)(b);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,{store:_},l.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.54164d8c.chunk.js.map